现在已经是2020年下半年了，群助手已经上线超过三年了。
三年来整个 Xposed 的环境乃至于 Android 的整个环境都发生了巨大的变化：
- 第三方 ROM 在众多国产厂商禁止解锁BL、国产手机厂商 MIUI 等越来越完善等情况下，影响力逐渐消退，CM改名成 Lineage OS ,国内的魔趣在小米10发售半年之后也没有更新10系列的ROM。
- Xposed 的作者已经两年没有更新Xposed框架了（他好像是去谷歌上班了？资料查不到了），原始的版本只支持到8.0后就停止了更新，现在用的 Xposed 的框架已经是第三方的改良版本，以太极和 Magisk 上的 EdXposed 为主，从功能性上来说没有变化。
- Magisk 取代 SuperSU 成为最流行的 Root 管理工具。
- 酷安已经下架了几乎所有的 Xposed 插件工具，讨论区也没有了。

从上面几点来看，Xposed 框架其实本身已经变得越发的小众，国内衍生的插件也从一开始的小工具变成了现在搞黑产灰产的工具，在这种情况下，像群助手这种情况，其实从法律意义上来讲，你懂的。
只是现在群助手用户量过于小，加上本身并没有任何收费的地方，腾讯估计也根本都不知道这种东西也懒得知道你这种蛤蛤（我去腾讯面试的时候他们的员工也觉得哦还挺好的呀这种）

群助手在上线后大概更新了十几个版本，其中比较重要的更新大概有几个吧。
1. 第一版在2017年7月23号上线，提供了简单的将所有的群聚合抽成单独页面的功能。
- 其实当时的hook写的很简单，就是通过反复Hook ListView的 getItem 方法的下标来实现不同位置的映射，然后写了很多标记位来拦截点击事件来修改点击的下标和打开群助手，确保点击正常会话的时候不会数组越界。
- 还有一点夸张的地方我居然把 notifyDataSetChanged 写在 getCount 方法里面，导致 ListView 只要一滑动就一直刷新，页面及其卡顿。
- 因为微信的聊天会话列表和聊天页面是一个 Activity，当时群助手的页面是使用 Dialog 实现的，这样会造成一个问题，我点击群列表（就是那个Dialog）进入聊天详情页面的时候，需要先dismiss Dialog，然后模拟点击相应的 View 来实现跳转到详情页面；同时，退出聊天页面的时候再主动弹出 Dialog，造成回退栈看上去非常奇怪。
- 尽管第一个版本非常简陋，但是依然加上了服务端，因为 hook 所有的变量名方法名和类名都是以配置文件的形式从服务端读取，这样就保证了多版本适配的可能性。
- 从刚开始研究这个项目的可行性到最后第一个版本上线，大概花了20天，本来研究的微信版本是[6.5.8](https://weixin.qq.com/cgi-bin/readtemplate?lang=zh_CN&t=page/faq/android/658/index&faq=android_658)，等到23号上线时，微信基本上都要更新到[6.5.10](https://weixin.qq.com/cgi-bin/readtemplate?lang=zh_CN&t=page/faq/android/6510/index&faq=android_6510)了.

2. 从第一个版本上线之后，卡顿的问题非常严重，酷安开始有几百的下载和十几条评论，于是在一个月之内，更新了七次版本，最后到2017年8月22日发布了1.2.2。
- 这个时候基本上卡顿问题有所缓解，至少不会用getCount方法里面去notify ListView。
- 修复了一些比较小的显示错误，改了几个颜色。
- 因为是通过微信的VersionCode来判断微信版本，导致Google Play用户的相同版本也可以适配，所以这段时间就添加了用户如果在微信里面闪退，就自动上传错误日志的功能。其实这个功能完全没有作用，上传的日志99.99%全部是 ClassNotFoundException 和 NotClassDefFoundError，而且由于我的失误，几百个用户就可以一天上传几十万个文件，搞的我服务器操作ftp异常卡顿……

3. 2017年9月13日，发布了1.3.4版本，这是1.3的第五个版本。
- 这几个版本最大的更新就是找到了替代Dialog的方法来解决奇怪的回退栈问题，方案就是将群助手的View添加在主页显示的ViewPager和聊天详情页ViewGroup中间，因为微信首页的根布局是一个自定义FitSystemViewGroup，只要找到合适的下标，就可以达到主页->群助手->聊天详情页的栈顺序，回退的时候亦然。
    - FitSystemView (Parent)
     1. WXViewPager (微信的首页那个ViewPager，带四个页面的那个，聊天列表在第一个页面)
     2. ViewGroup （群助手View）
     3. ChattingUI (聊天详情页面)
- 支持了当时几个新的play版本，这个也是群众的呼声，但是方法也很麻烦，都是直接拿apk，然后通过apktool之类的看jar里面的变量名和类名，真的难找的一批。
- 这几个版本因为已经用View去实现了群助手，然后还手搓搓的搞了一个打开助手和关闭助手的动画，和滑动返回那个动画不一样，因为毕竟不支持滑动返回。

4. 2017年10月11日，发布了1.3.10版本，这是1.3的第十个版本。
- 添加了滑动返回，这个是真正的滑动返回，用的开源库 [BGASwipeBackLayout-Android](https://github.com/bingoogolapple/BGASwipeBackLayout-Android)
- 这几个版本最大的更新就是增加了服务号的支持，通过wxid来判断服务号，找了半天才知道怎么把服务号给筛选出来，联系人表里面有一个 verifyFlag 字段，这个字段不为0，代表是是服务号。
- 后端添加了用户统计，现在终于知道到底有多少用户在用群助手了。


总结：

- 代码里面没有使用任何R资源，图标和布局分别是Canvas绘制和Java代码编写